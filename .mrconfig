[DEFAULT]
lib =
  hostname="$(hostname)"
  whoami="$(whoami)"
  on() {
    for host in $@; do
	    if [ "${host%@*}" != "${host#*@}" ]; then
				if [ "$whoami" != "${host%@*}" ]; then
					continue
				fi
				host="${host#*@}"
			fi
			if [ "$hostname" = "$host" ]; then
				return 0
			fi
		done
		return 1
	}
  off() {
    ! on $1
  }
git_gc = git gc "$@"
jobs = 5

[.emacs.d]
checkout = git clone 'https://github.com/syl20bnr/spacemacs' '.emacs.d'

[$HOME/.config/vcsh/repo.d/gnupg.git]
checkout = vcsh clone git@git.cube.9net:samis/dotfiles_gnupg.git gnupg
skip = off mute-ai && off hyun-ae
fixups = chmod ~/.gnupg 700 && chmod 600 ~/.gnupg/*

[$HOME/.config/vcsh/repo.d/gui.git]
checkout = vcsh clone git@github.com:samis/dotfiles-gui.git gui
skip = off mute-ai && off hyun-ae

[$HOME/.config/vcsh/repo.d/mr.git]
checkout = vcsh clone git@github.com:samis/dotfiles-mr.git mr

[$HOME/.config/vcsh/repo.d/shell.git]
checkout = vcsh clone git@github.com:samis/dotfiles-shell.git shell

[$HOME/.config/vcsh/repo.d/spacemacs.git]
checkout = vcsh clone git@github.com:samis/dotfiles-spacemacs.git spacemacs

[$HOME/.config/vcsh/repo.d/ssh.git]
checkout = vcsh clone http://git.cube.9net:3000/samis/dotfiles_ssh.git ssh
skip = off mute-ai && off hyun-ae
fixups = chmod 600 ~/.ssh/id_rsa

[$HOME/.config/vcsh/repo.d/weechat.git]
checkout = vcsh clone git@github.com:samis/dotfiles-weechat.git weechat
skip =  off mute-ai && off hyun-ae

